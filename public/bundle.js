(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _productList = _interopRequireDefault(require("./productList"));

var _productForm = _interopRequireDefault(require("./productForm"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Import the ProductList component and the ProductForm component.
_productList.default.listAllProducts();

_productForm.default.buildProductForm();

},{"./productForm":4,"./productList":5}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// The product component that displays a a product's name and type.
var _default = {
  buildProduct(product) {
    // <article>
    //   <h3>Product Name</h3>
    //   <p>Product Type</p>
    // </article>
    const productArticle = document.createElement("article");
    const productHeader = document.createElement("h3");
    productHeader.textContent = product.name;
    const productParagraph = document.createElement("p");
    productParagraph.textContent = product.productType.name;
    productArticle.appendChild(productHeader);
    productArticle.appendChild(productParagraph);
    return productArticle;
  }

};
exports.default = _default;

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// The productCollection component that loads existing products from a json-server API, and saves new ones.
var _default = {
  getAllProducts() {
    return fetch("http://localhost:8088/products?_expand=productType").then(response => response.json());
  },

  getAllProductTypes() {
    return fetch("http://localhost:8088/productTypes").then(response => response.json());
  },

  postNewProduct(product) {
    return fetch("http://localhost:8088/products", {
      method: "POST",
      headers: {
        "content-type": "application/json"
      },
      body: JSON.stringify(product)
    }).then(response => response.json());
  }

};
exports.default = _default;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _productCollection = _interopRequireDefault(require("./productCollection"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// The productForm component that listens for when the submit button is pressed. When it is triggered, a new product should be POSTed to the API. It should import the ProductCollection component.
const productForm = {
  buildProductForm() {
    const productNameLabel = document.createElement("label");
    productNameLabel.textContent = "Product Name: ";
    const productNameInput = document.createElement("input");
    productNameInput.id = "product-name-input";
    const productTypeLabel = document.createElement("label");
    productTypeLabel.textContent = "Product Type: ";
    const productTypeDropDown = document.createElement("select");
    productTypeDropDown.setAttribute("id", "product-type-input");

    _productCollection.default.getAllProductTypes().then(productTypesResponse => {
      // debugger
      productTypesResponse.forEach(productType => {
        const productTypeOption = document.createElement("option");
        productTypeOption.textContent = productType.name;
        productTypeOption.value = productType.id;
        productTypeDropDown.appendChild(productTypeOption);
      });
    });

    const addProductButton = document.createElement("button");
    addProductButton.textContent = "Add Product";
    addProductButton.addEventListener("click", this.handleAddProduct);
    const productFormSection = document.createElement("section");
    productFormSection.appendChild(productNameLabel);
    productFormSection.appendChild(productNameInput);
    productFormSection.appendChild(productTypeLabel);
    productFormSection.appendChild(productTypeDropDown);
    productFormSection.appendChild(addProductButton);
    const displayContainer = document.querySelector("#display-container");
    displayContainer.appendChild(productFormSection);
  },

  handleAddProduct() {
    const productName = document.querySelector("#product-name-input").value;
    const productTypeId = document.querySelector("#product-type-input").value;
    console.log("Form values", productName, productTypeId);
    const newProduct = {
      name: productName,
      productTypeId: Number(productTypeId)
    };

    _productCollection.default.postNewProduct(newProduct);
  }

};
var _default = productForm;
exports.default = _default;

},{"./productCollection":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _productCollection = _interopRequireDefault(require("./productCollection"));

var _product = _interopRequireDefault(require("./product"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// The productList component that displays all products. It should import the Product component and the ProductCollection component.
var _default = {
  listAllProducts() {
    _productCollection.default.getAllProducts().then(productsResponse => {
      console.log(productsResponse);
      const productsSection = document.createElement("section");
      productsResponse.forEach((theProduct, indexNumber) => {
        const productHTML = _product.default.buildProduct(theProduct);

        productsSection.appendChild(productHTML);
      });
      const displayContainer = document.querySelector("#display-container");
      displayContainer.appendChild(productsSection);
    });
  }

};
exports.default = _default;

},{"./product":2,"./productCollection":3}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9zY3JpcHRzL21haW4uanMiLCIuLi9zY3JpcHRzL3Byb2R1Y3QuanMiLCIuLi9zY3JpcHRzL3Byb2R1Y3RDb2xsZWN0aW9uLmpzIiwiLi4vc2NyaXB0cy9wcm9kdWN0Rm9ybS5qcyIsIi4uL3NjcmlwdHMvcHJvZHVjdExpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NBOztBQUNBOzs7O0FBRkE7QUFJQSxxQkFBWSxlQUFaOztBQUNBLHFCQUFZLGdCQUFaOzs7Ozs7Ozs7QUNMQTtlQUNlO0FBQ2IsRUFBQSxZQUFZLENBQUMsT0FBRCxFQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBdkI7QUFFQSxVQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixJQUF2QixDQUF0QjtBQUNBLElBQUEsYUFBYSxDQUFDLFdBQWQsR0FBNEIsT0FBTyxDQUFDLElBQXBDO0FBRUEsVUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixHQUF2QixDQUF6QjtBQUNBLElBQUEsZ0JBQWdCLENBQUMsV0FBakIsR0FBK0IsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsSUFBbkQ7QUFFQSxJQUFBLGNBQWMsQ0FBQyxXQUFmLENBQTJCLGFBQTNCO0FBQ0EsSUFBQSxjQUFjLENBQUMsV0FBZixDQUEyQixnQkFBM0I7QUFFQSxXQUFPLGNBQVA7QUFDRDs7QUFuQlksQzs7Ozs7Ozs7OztBQ0RmO2VBQ2U7QUFDYixFQUFBLGNBQWMsR0FBRztBQUNmLFdBQU8sS0FBSyxDQUFDLG9EQUFELENBQUwsQ0FBNEQsSUFBNUQsQ0FBaUUsUUFBUSxJQUM5RSxRQUFRLENBQUMsSUFBVCxFQURLLENBQVA7QUFHRCxHQUxZOztBQU1iLEVBQUEsa0JBQWtCLEdBQUc7QUFDbkIsV0FBTyxLQUFLLENB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T0FBTyxDQUFDLEdBQVIsQ0FBWSxhQUFaLEVBQTJCLFdBQTNCLEVBQXdDLGFBQXhDO0FBRUEsVUFBTSxVQUFVLEdBQUc7QUFDakIsTUFBQSxJQUFJLEVBQUUsV0FEVztBQUVqQixNQUFBLGFBQWEsRUFBRSxNQUFNLENBQUMsYUFBRDtBQUZKLEtBQW5COztBQUtBLCtCQUFrQixjQUFsQixDQUFpQyxVQUFqQztBQUNEOztBQW5EaUIsQ0FBcEI7ZUFzRGUsVzs7Ozs7Ozs7Ozs7QUN4RGY7O0FBQ0E7Ozs7QUFGQTtlQUllO0FBQ2IsRUFBQSxlQUFlLEdBQUc7QUFDaEIsK0JBQWtCLGNBQWxCLEdBQW1DLElBQW5DLENBQXdDLGdCQUFnQixJQUFJO0FBQzFELE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxnQkFBWjtBQUVBLFlBQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLFNBQXZCLENBQXhCO0FBRUEsTUFBQSxnQkFBZ0IsQ0FBQyxPQUFqQixDQUF5QixDQUFDLFVBQUQsRUFBYSxXQUFiLEtBQTZCO0FBQ3BELGNBQU0sV0FBVyxHQUFHLGlCQUFRLFlBQVIsQ0FBcUIsVUFBckIsQ0FBcEI7O0FBQ0EsUUFBQSxlQUFlLENBQUMsV0FBaEIsQ0FBNEIsV0FBNUI7QUFDRCxPQUhEO0FBS0EsWUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixvQkFBdkIsQ0FBekI7QUFDQSxNQUFBLGdCQUFnQixDQUFDLFdBQWpCLENBQTZCLGVBQTdCO0FBQ0QsS0FaRDtBQWFEOztBQWZZLEMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvLyBJbXBvcnQgdGhlIFByb2R1Y3RMaXN0IGNvbXBvbmVudCBhbmQgdGhlIFByb2R1Y3RGb3JtIGNvbXBvbmVudC5cbmltcG9ydCBwcm9kdWN0TGlzdCBmcm9tIFwiLi9wcm9kdWN0TGlzdFwiO1xuaW1wb3J0IHByb2R1Y3RGb3JtIGZyb20gXCIuL3Byb2R1Y3RGb3JtXCI7XG5cbnByb2R1Y3RMaXN0Lmxpc3RBbGxQcm9kdWN0cygpO1xucHJvZHVjdEZvcm0uYnVpbGRQcm9kdWN0Rm9ybSgpO1xuIiwiLy8gVGhlIHByb2R1Y3QgY29tcG9uZW50IHRoYXQgZGlzcGxheXMgYSBhIHByb2R1Y3QncyBuYW1lIGFuZCB0eXBlLlxuZXhwb3J0IGRlZmF1bHQge1xuICBidWlsZFByb2R1Y3QocHJvZHVjdCkge1xuICAgIC8vIDxhcnRpY2xlPlxuICAgIC8vICAgPGgzPlByb2R1Y3QgTmFtZTwvaDM+XG4gICAgLy8gICA8cD5Qcm9kdWN0IFR5cGU8L3A+XG4gICAgLy8gPC9hcnRpY2xlPlxuXG4gICAgY29uc3QgcHJvZHVjdEFydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXJ0aWNsZVwiKTtcblxuICAgIGNvbnN0IHByb2R1Y3RIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgcHJvZHVjdEhlYWRlci50ZXh0Q29udGVudCA9IHByb2R1Y3QubmFtZTtcblxuICAgIGNvbnN0IHByb2R1Y3RQYXJhZ3JhcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwcm9kdWN0UGFyYWdyYXBoLnRleHRDb250ZW50ID0gcHJvZHVjdC5wcm9kdWN0VHlwZS5uYW1lO1xuXG4gICAgcHJvZHVjdEFydGljbGUuYXBwZW5kQ2hpbGQocHJvZHVjdEhlYWRlcik7XG4gICAgcHJvZHVjdEFydGljbGUuYXBwZW5kQ2hpbGQocHJvZHVjdFBhcmFncmFwaCk7XG5cbiAgICByZXR1cm4gcHJvZHVjdEFydGljbGU7XG4gIH1cbn07XG4iLCIvLyBUaGUgcHJvZHVjdENvbGxlY3Rpb24gY29tcG9uZW50IHRoYXQgbG9hZHMgZXhpc3RpbmcgcHJvZHVjdHMgZnJvbSBhIGpzb24tc2VydmVyIEFQSSwgYW5kIHNhdmVzIG5ldyBvbmVzLlxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBbGxQcm9kdWN0cygpIHtcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjgwODgvcHJvZHVjdHM/X2V4cGFuZD1wcm9kdWN0VHlwZVwiKS50aGVuKHJlc3BvbnNlID0+XG4gICAgICByZXNwb25zZS5qc29uKClcbiAgICApO1xuICB9LFxuICBnZXRBbGxQcm9kdWN0VHlwZXMoKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDo4MDg4L3Byb2R1Y3RUeXBlc1wiKS50aGVuKHJlc3BvbnNlID0+XG4gICAgICByZXNwb25zZS5qc29uKClcbiAgICApO1xuICB9LFxuICBwb3N0TmV3UHJvZHVjdChwcm9kdWN0KSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDo4MDg4L3Byb2R1Y3RzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdClcbiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XG4gIH1cbn07XG4iLCIvLyBUaGUgcHJvZHVjdEZvcm0gY29tcG9uZW50IHRoYXQgbGlzdGVucyBmb3Igd2hlbiB0aGUgc3VibWl0IGJ1dHRvbiBpcyBwcmVzc2VkLiBXaGVuIGl0IGlzIHRyaWdnZXJlZCwgYSBuZXcgcHJvZHVjdCBzaG91bGQgYmUgUE9TVGVkIHRvIHRoZSBBUEkuIEl0IHNob3VsZCBpbXBvcnQgdGhlIFByb2R1Y3RDb2xsZWN0aW9uIGNvbXBvbmVudC5cbmltcG9ydCBwcm9kdWN0Q29sbGVjdGlvbiBmcm9tIFwiLi9wcm9kdWN0Q29sbGVjdGlvblwiO1xuXG5jb25zdCBwcm9kdWN0Rm9ybSA9IHtcbiAgYnVpbGRQcm9kdWN0Rm9ybSgpIHtcbiAgICBjb25zdCBwcm9kdWN0TmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHByb2R1Y3ROYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIlByb2R1Y3QgTmFtZTogXCI7XG5cbiAgICBjb25zdCBwcm9kdWN0TmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHByb2R1Y3ROYW1lSW5wdXQuaWQgPSBcInByb2R1Y3QtbmFtZS1pbnB1dFwiO1xuXG4gICAgY29uc3QgcHJvZHVjdFR5cGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBwcm9kdWN0VHlwZUxhYmVsLnRleHRDb250ZW50ID0gXCJQcm9kdWN0IFR5cGU6IFwiO1xuXG4gICAgY29uc3QgcHJvZHVjdFR5cGVEcm9wRG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgcHJvZHVjdFR5cGVEcm9wRG93bi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByb2R1Y3QtdHlwZS1pbnB1dFwiKTtcblxuICAgIHByb2R1Y3RDb2xsZWN0aW9uLmdldEFsbFByb2R1Y3RUeXBlcygpLnRoZW4ocHJvZHVjdFR5cGVzUmVzcG9uc2UgPT4ge1xuICAgICAgLy8gZGVidWdnZXJcbiAgICAgIHByb2R1Y3RUeXBlc1Jlc3BvbnNlLmZvckVhY2gocHJvZHVjdFR5cGUgPT4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0VHlwZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIHByb2R1Y3RUeXBlT3B0aW9uLnRleHRDb250ZW50ID0gcHJvZHVjdFR5cGUubmFtZTtcbiAgICAgICAgcHJvZHVjdFR5cGVPcHRpb24udmFsdWUgPSBwcm9kdWN0VHlwZS5pZDtcblxuICAgICAgICBwcm9kdWN0VHlwZURyb3BEb3duLmFwcGVuZENoaWxkKHByb2R1Y3RUeXBlT3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYWRkUHJvZHVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYWRkUHJvZHVjdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQWRkIFByb2R1Y3RcIjtcbiAgICBhZGRQcm9kdWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUFkZFByb2R1Y3QpO1xuXG4gICAgY29uc3QgcHJvZHVjdEZvcm1TZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgcHJvZHVjdEZvcm1TZWN0aW9uLmFwcGVuZENoaWxkKHByb2R1Y3ROYW1lTGFiZWwpO1xuICAgIHByb2R1Y3RGb3JtU2VjdGlvbi5hcHBlbmRDaGlsZChwcm9kdWN0TmFtZUlucHV0KTtcbiAgICBwcm9kdWN0Rm9ybVNlY3Rpb24uYXBwZW5kQ2hpbGQocHJvZHVjdFR5cGVMYWJlbCk7XG4gICAgcHJvZHVjdEZvcm1TZWN0aW9uLmFwcGVuZENoaWxkKHByb2R1Y3RUeXBlRHJvcERvd24pO1xuICAgIHByb2R1Y3RGb3JtU2VjdGlvbi5hcHBlbmRDaGlsZChhZGRQcm9kdWN0QnV0dG9uKTtcblxuICAgIGNvbnN0IGRpc3BsYXlDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rpc3BsYXktY29udGFpbmVyXCIpO1xuICAgIGRpc3BsYXlDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZHVjdEZvcm1TZWN0aW9uKTtcbiAgfSxcbiAgaGFuZGxlQWRkUHJvZHVjdCgpIHtcbiAgICBjb25zdCBwcm9kdWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZHVjdC1uYW1lLWlucHV0XCIpLnZhbHVlO1xuICAgIGNvbnN0IHByb2R1Y3RUeXBlSWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2R1Y3QtdHlwZS1pbnB1dFwiKS52YWx1ZTtcblxuICAgIGNvbnNvbGUubG9nKFwiRm9ybSB2YWx1ZXNcIiwgcHJvZHVjdE5hbWUsIHByb2R1Y3RUeXBlSWQpO1xuXG4gICAgY29uc3QgbmV3UHJvZHVjdCA9IHtcbiAgICAgIG5hbWU6IHByb2R1Y3ROYW1lLFxuICAgICAgcHJvZHVjdFR5cGVJZDogTnVtYmVyKHByb2R1Y3RUeXBlSWQpXG4gICAgfTtcblxuICAgIHByb2R1Y3RDb2xsZWN0aW9uLnBvc3ROZXdQcm9kdWN0KG5ld1Byb2R1Y3QpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0Rm9ybTtcbiIsIi8vIFRoZSBwcm9kdWN0TGlzdCBjb21wb25lbnQgdGhhdCBkaXNwbGF5cyBhbGwgcHJvZHVjdHMuIEl0IHNob3VsZCBpbXBvcnQgdGhlIFByb2R1Y3QgY29tcG9uZW50IGFuZCB0aGUgUHJvZHVjdENvbGxlY3Rpb24gY29tcG9uZW50LlxuaW1wb3J0IHByb2R1Y3RDb2xsZWN0aW9uIGZyb20gXCIuL3Byb2R1Y3RDb2xsZWN0aW9uXCI7XG5pbXBvcnQgcHJvZHVjdCBmcm9tIFwiLi9wcm9kdWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbGlzdEFsbFByb2R1Y3RzKCkge1xuICAgIHByb2R1Y3RDb2xsZWN0aW9uLmdldEFsbFByb2R1Y3RzKCkudGhlbihwcm9kdWN0c1Jlc3BvbnNlID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3RzUmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCBwcm9kdWN0c1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcblxuICAgICAgcHJvZHVjdHNSZXNwb25zZS5mb3JFYWNoKCh0aGVQcm9kdWN0LCBpbmRleE51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0SFRNTCA9IHByb2R1Y3QuYnVpbGRQcm9kdWN0KHRoZVByb2R1Y3QpO1xuICAgICAgICBwcm9kdWN0c1NlY3Rpb24uYXBwZW5kQ2hpbGQocHJvZHVjdEhUTUwpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRpc3BsYXlDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rpc3BsYXktY29udGFpbmVyXCIpO1xuICAgICAgZGlzcGxheUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9kdWN0c1NlY3Rpb24pO1xuICAgIH0pO1xuICB9XG59O1xuIl19
